{"version":3,"sources":["reducers/carousellReducer/index.js","reducers/positionReducer/index.js","reducers/historyReducer/index.js","reducers/index.js","actions/types.js","store.js","config.js","components/Header.js","helperFunctions/ArrowNavigation.js","components/Video/index.js","actions/postHistoryActions.js","actions/videoClickActions.js","components/FullWatchHistory/index.js","helperFunctions/DateConvert.js","actions/getHistoryActions.js","components/Card/index.js","components/Carousell/index.js","actions/carousellActions.js","actions/keyboardActions.js","index.js"],"names":["initialState","entries","totalCount","loaded","position","total","currentVideoIndex","movie","history","pages","current_page","rootReducer","combineReducers","carousell","state","action","type","Math","max","min","middleware","thunk","store","createStore","compose","applyMiddleware","apiUrl","Header","className","to","id","tabIndex","ArrowNavigation","e","HomeMenu","document","getElementById","HistoryMenu","key","window","pageYOffset","activeElement","focus","blur","Video","this","props","postHistoryActions","undefined","contents","url","username","title","description","videoUrl","imageUrl","images","onkeydown","video","videojs","paused","play","pause","currentTime","requestFullscreen","on","location","href","dispose","data-test","controls","preload","src","React","Component","connect","dispatch","console","log","fetch","method","body","JSON","stringify","headers","then","data","status","json","catch","videoClick","index","FullWatchHistory","getHistoryActions","handleKeyDown","table","paging","length","onClick","map","i","date","newDate","replace","substring","split","DateConvert","createdAt","time","class","page","Card","selectedPosition","scrollIntoView","behavior","block","alt","Carousell","loadCarousell","a","toHandleKeydown","keyDown","push","addEventListener","deltaY","scrollLeft","lastInteractPosition","ReactDOM","render","path","exact","component"],"mappings":"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","file":"static/js/main.4b725c39.chunk.js","sourcesContent":["import { START_CAROUSELL_LOAD, CAROUSELL_LOADED } from \"../../actions/types\";\r\n\r\nconst initialState = {\r\n  entries: [],\r\n  totalCount: 0,\r\n  loaded: false\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case CAROUSELL_LOADED:\r\n      return {\r\n        ...state,\r\n        entries: action.entries,\r\n        totalCount: action.totalCount,\r\n        loaded: true\r\n      };\r\n    case START_CAROUSELL_LOAD:\r\n      return {\r\n        ...state,\r\n        loaded: false\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  LEFT_ARROW,\r\n  RIGHT_ARROW,\r\n  ENTER_KEY,\r\n  CLICK_VIDEO,\r\n  RESET_POSITION\r\n} from \"../../actions/types\";\r\n\r\nconst initialState = {\r\n  position: 0,\r\n  total: 29,\r\n  currentVideoIndex: 0,\r\n  movie: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case LEFT_ARROW:\r\n      return {\r\n        ...state,\r\n        position: Math.max(state.position - 1, 0)\r\n      };\r\n    case RIGHT_ARROW:\r\n      return {\r\n        ...state,\r\n        position: Math.min(state.position + 1, state.total - 1)\r\n      };\r\n\r\n    case ENTER_KEY:\r\n      return {\r\n        ...state,\r\n        currentVideoIndex: state.position,\r\n        movie: action.movie\r\n      };\r\n\r\n    case CLICK_VIDEO:\r\n      return {\r\n        ...state,\r\n        position: action.currentVideoIndex,\r\n        currentVideoIndex: action.currentVideoIndex,\r\n        movie: action.movie\r\n      };\r\n\r\n    case RESET_POSITION:\r\n      return {\r\n        ...state,\r\n        position: 0,\r\n        currentVideoIndex: 0\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_HISTORY, START_GET_HISTORY } from \"../../actions/types\";\r\n\r\nconst initialState = {\r\n  history: [],\r\n  loaded: false,\r\n  pages: 0,\r\n  current_page: 0\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_HISTORY:\r\n      return {\r\n        ...state,\r\n        history: action.history,\r\n        loaded: true,\r\n        pages: action.pages,\r\n        current_page: action.current_page\r\n      };\r\n    case START_GET_HISTORY:\r\n      return {\r\n        ...state,\r\n        loaded: false\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport carousellReducer from \"./carousellReducer\";\r\nimport positionReducer from \"./positionReducer/index\";\r\nimport historyReducer from \"./historyReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  carousell: carousellReducer,\r\n  position: positionReducer,\r\n  history: historyReducer\r\n});\r\n\r\nexport default rootReducer;\r\n","export const START_CAROUSELL_LOAD = \"START_CAROUSELL_LOAD\";\r\nexport const CAROUSELL_LOADED = \"CAROUSELL_LOADED\";\r\n\r\nexport const LEFT_ARROW = \"LEFT_ARROW\";\r\nexport const RIGHT_ARROW = \"RIGHT_ARROW\";\r\nexport const ENTER_KEY = \"ENTER_KEY\";\r\n\r\nexport const CLICK_VIDEO = \"CLICK_VIDEO\";\r\n\r\nexport const CHANGE_VIEW = \"CHANGE_VIEW\";\r\n\r\nexport const GET_HISTORY = \"GET_HISTORY\";\r\nexport const START_GET_HISTORY = \"START_GET_HISTORY\";\r\nexport const POST_HISTORY = \"POST_HISTORY\";\r\nexport const RESET_POSITION = \"RESET_POSITION\";\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware)\r\n    //window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","export const username = \"kayin\";\r\nexport const apiUrl = \"http://18.136.211.239:5000\"; //aws ec2\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <div className=\"headerWrapper\">\r\n      <div className=\"one\">\r\n        <Link to=\"/\" id=\"HomeMenu\" tabIndex={0}>\r\n          Home\r\n        </Link>\r\n      </div>\r\n      <div className=\"two has-text-right\">\r\n        <Link to=\"history\" id=\"HistoryMenu\" tabIndex={1}>\r\n          History\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","//Helper function to handle arrow key navigation of top menu\r\nexport const ArrowNavigation = e => {\r\n  const HomeMenu = document.getElementById(\"HomeMenu\");\r\n  const HistoryMenu = document.getElementById(\"HistoryMenu\");\r\n  switch (e.key) {\r\n    case \"ArrowUp\":\r\n      //If at top of page\r\n      if (!window.pageYOffset) {\r\n        if (document.activeElement === HomeMenu) {\r\n          HistoryMenu.focus();\r\n        } else {\r\n          HomeMenu.focus();\r\n        }\r\n      }\r\n      break;\r\n    case \"ArrowDown\":\r\n      document.activeElement.blur();\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n  //If one of the menu elements are focused, return false to indicate enter keys should not be handled.\r\n  if (\r\n    document.activeElement === HistoryMenu ||\r\n    document.activeElement === HomeMenu\r\n  ) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport videojs from \"video.js\";\r\nimport { postHistoryActions } from \"../../actions/postHistoryActions\";\r\nimport { username } from \"../../config\";\r\nimport Header from \"../Header\";\r\nimport { ArrowNavigation } from \"../../helperFunctions/ArrowNavigation\";\r\n\r\n//Page with the video player\r\nclass Video extends React.Component {\r\n  /*\r\n    On load\r\n    1) current movie details are posted to backend and saved inn database to store history\r\n    2) Load the video callback, when video ends, return to homepage\r\n    3) Add event listener for handling keyboard navigation\r\n    */\r\n  componentDidMount() {\r\n    let { postHistoryActions, movie } = this.props;\r\n    if (movie === null || movie === undefined || !movie.contents[0].url) {\r\n      return null;\r\n    }\r\n\r\n    let historyData = {\r\n      username: username,\r\n      title: movie.title,\r\n      description: movie.description,\r\n      videoUrl: movie.contents[0].url,\r\n      imageUrl: movie.images[0].url\r\n    };\r\n\r\n    postHistoryActions(historyData);\r\n\r\n    /*\r\n        Handle keyboard navigation. \r\n        If the header menu isn't focused,\r\n        the left/right keys rewinds/skips 10s of video, and Enter/Space key toggles between playing and pausing the video     \r\n    */\r\n    document.onkeydown = e => {\r\n      const toHandleKeydown = ArrowNavigation(e);\r\n      if (toHandleKeydown) {\r\n        let video = videojs(\"video\");\r\n        switch (e.key) {\r\n          case \" \":\r\n          case \"Enter\":\r\n            video.paused() ? video.play() : video.pause();\r\n            break;\r\n          case \"ArrowRight\":\r\n            video.currentTime(video.currentTime() + 10);\r\n            break;\r\n          case \"ArrowLeft\":\r\n            video.currentTime(video.currentTime() - 10);\r\n            break;\r\n          case \"f\":\r\n            video.requestFullscreen();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n    };\r\n\r\n    //Back to homepage when video finished\r\n    if (document.getElementById(\"video\")) {\r\n      let video = videojs(\"video\");\r\n      video.play();\r\n      video.on(\"ended\", function() {\r\n        window.location.href = \"/\";\r\n      });\r\n    }\r\n  }\r\n\r\n  //Dispose the video when finished watching\r\n  componentWillUnmount() {\r\n    let video = videojs(\"video\");\r\n    video.dispose();\r\n  }\r\n\r\n  render() {\r\n    let { movie } = this.props;\r\n    if (movie === null || movie === undefined || !movie.contents[0].url) {\r\n      window.location.href = \"/\";\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <div\r\n          key={`${movie.title}`}\r\n          className=\"container body\"\r\n          data-test=\"VideoComponent\"\r\n        >\r\n          <div className=\"is-centered has-text-centered\">\r\n            Now Playing: {movie.title}\r\n            <video\r\n              id=\"video\"\r\n              className=\"video-js videoStyle\"\r\n              controls\r\n              preload=\"auto\"\r\n            >\r\n              <source src={movie.contents[0].url} type=\"video/mp4\" />\r\n            </video>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  movie: state.position.movie\r\n});\r\n\r\nexport default connect(mapStateToProps, { postHistoryActions })(Video);\r\n","import { POST_HISTORY } from \"./types\";\r\nimport { apiUrl } from \"../config\";\r\n\r\n//When visiting video page, data of current movie is sent to backend and saved to DB\r\nexport const postHistoryActions = history => dispatch => {\r\n  console.log(history);\r\n  fetch(`${apiUrl}/history/add`, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(history),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    }\r\n  })\r\n    .then(data => {\r\n      if (data.status === 200) {\r\n        data.json().then(data => {\r\n          //console.log(data);\r\n        });\r\n      } else {\r\n        console.log(\"ERROR\");\r\n      }\r\n    })\r\n    .catch(e => console.log(e));\r\n};\r\n","import { CLICK_VIDEO, CHANGE_VIEW } from \"./types\";\r\n\r\n//Handle case when user clicks on a video\r\nexport const videoClick = (movie, currentVideoIndex) => dispatch => {\r\n  dispatch({\r\n    type: CLICK_VIDEO,\r\n    movie: movie,\r\n    index: currentVideoIndex\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { getHistoryActions } from \"../../actions/getHistoryActions\";\r\n\r\nimport { username } from \"../../config\";\r\nimport Header from \"../Header\";\r\n\r\nimport { DateConvert } from \"../../helperFunctions/DateConvert\";\r\nimport { videoClick } from \"../../actions/videoClickActions\";\r\nimport { ArrowNavigation } from \"../../helperFunctions/ArrowNavigation\";\r\n\r\n/*\r\n    /history page\r\n\r\n    On load\r\n    1) GET request to load user's first page of history\r\n    2) Add document.onkeydown to handle left/right paging, and up/down keys for menu navigation\r\n*/\r\nclass FullWatchHistory extends React.Component {\r\n  componentDidMount() {\r\n    let { getHistoryActions, current_page } = this.props;\r\n    getHistoryActions(null, username, current_page);\r\n    document.onkeydown = e => {\r\n      this.handleKeyDown(e);\r\n      ArrowNavigation(e);\r\n    };\r\n  }\r\n\r\n  //Left key for last page, right key for next page\r\n  handleKeyDown(e) {\r\n    let { getHistoryActions, current_page, pages, loaded } = this.props;\r\n\r\n    switch (e.key) {\r\n      case \"ArrowLeft\":\r\n        getHistoryActions(loaded, username, Math.max(0, current_page - 1));\r\n        break;\r\n      case \"ArrowRight\":\r\n        getHistoryActions(\r\n          loaded,\r\n          username,\r\n          Math.min(pages - 1, current_page + 1)\r\n        );\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      history,\r\n      getHistoryActions,\r\n      current_page,\r\n      pages,\r\n      loaded\r\n    } = this.props;\r\n    console.log(current_page);\r\n    console.log(pages);\r\n    let table = \"\";\r\n    let paging = \"\";\r\n\r\n    if (history === null) return;\r\n    if (history.length != 0) {\r\n      paging = (\r\n        <div>\r\n          <p className=\"has-text-centered\">\r\n            Page {current_page + 1} of {pages}\r\n          </p>\r\n          <br />\r\n          <div className=\"buttons is-centered\">\r\n            <button\r\n              className=\"is-link button\"\r\n              onClick={() =>\r\n                getHistoryActions(\r\n                  loaded,\r\n                  username,\r\n                  Math.max(0, current_page - 1)\r\n                )}\r\n            >\r\n              Prev\r\n            </button>\r\n            <button\r\n              className=\"is-link button\"\r\n              onClick={() =>\r\n                getHistoryActions(\r\n                  loaded,\r\n                  username,\r\n                  Math.min(pages - 1, current_page + 1)\r\n                )}\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n      table = (\r\n        <div>\r\n          <table className=\"table\" data-test=\"HistoryTable\">\r\n            <thead>\r\n              <tr>\r\n                <th />\r\n                <th>Title</th>\r\n                <th>Description</th>\r\n                <th>Watch Date</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {history.map((data, i) => {\r\n                let [date, time] = DateConvert(data.createdAt);\r\n                return (\r\n                  <tr\r\n                    key={data.createdAt}\r\n                    data-test=\"HistoryTableRow\"\r\n                    id={`row${i}`}\r\n                  >\r\n                    <td>\r\n                      <img src={data.imageUrl} />\r\n                    </td>\r\n                    <td>{data.title}</td>\r\n                    <td>{data.description}</td>\r\n                    <td>\r\n                      {date}\r\n                      <br />\r\n                      {time}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Header />\r\n\r\n        <div className=\"is-centered container\" data-test=\"FullWatchHistory\">\r\n          <p className=\"has-text-centered\">\r\n            Your recent views\r\n            <br />\r\n            {loaded === false ? <i class=\"fas fa-spinner fa-spin\" /> : \"\"}\r\n            {loaded === true && history.length === 0 ? \"No view history\" : \"\"}\r\n          </p>\r\n          {history.length >= 5 ? paging : \"\"}\r\n          <br />\r\n          {table}\r\n          <br />\r\n          {paging}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  history: state.history.history,\r\n  loaded: state.history.loaded,\r\n  pages: state.history.pages,\r\n  current_page: state.history.current_page\r\n});\r\n\r\nexport default connect(mapStateToProps, { getHistoryActions, videoClick })(\r\n  FullWatchHistory\r\n);\r\n","export const DateConvert = date => {\r\n  let newDate = date.replace(\"T\", \" \");\r\n\r\n  newDate = newDate.substring(0, newDate.length - 5);\r\n  let [d, t] = newDate.split(\" \");\r\n\r\n  return [d, t];\r\n};\r\n","import { GET_HISTORY, START_GET_HISTORY } from \"./types\";\r\nimport { apiUrl } from \"../config\";\r\n\r\nexport const getHistoryActions = (loaded, username, page) => dispatch => {\r\n  if (loaded === false) return;\r\n  dispatch({\r\n    type: START_GET_HISTORY\r\n  });\r\n  fetch(`${apiUrl}/history?username=${username}&page=${page}`)\r\n    .then(data => {\r\n      if (data.status === 200) {\r\n        data.json().then(data => {\r\n          dispatch({\r\n            type: GET_HISTORY,\r\n            history: data.data,\r\n            pages: data.pages,\r\n            current_page: data.current_page\r\n          });\r\n        });\r\n      } else {\r\n        console.log(\"ERROR\");\r\n      }\r\n    })\r\n    .catch(e => console.log(e));\r\n};\r\n","import React from \"react\";\r\n\r\n//Child of Carousell component. One card rendered for each movie\r\nclass Card extends React.Component {\r\n  /*On update, ensure that if the current card is the card selected (by left/right key navigation),Scroll that card into view.*/\r\n  componentDidUpdate() {\r\n    let { movie, position, selectedPosition } = this.props;\r\n\r\n    if (position === selectedPosition) {\r\n      const card = document.getElementById(`view-${position}${movie.title}`);\r\n      card.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { movie, position, selectedPosition } = this.props;\r\n\r\n    return (\r\n      <div\r\n        id={`view-${position}${movie.title}`}\r\n        className=\"column movie\"\r\n        data-test=\"Card\"\r\n      >\r\n        <div>\r\n          <img\r\n            src={movie.images[0].url}\r\n            alt={`${movie.title}-image`}\r\n            className={position === selectedPosition ? \"movieimg\" : \"\"}\r\n          />\r\n          <br />\r\n          <p className=\"is-size-7\">{movie.title}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { loadCarousell } from \"../../actions/carousellActions\";\r\nimport { keyDown } from \"../../actions/keyboardActions\";\r\nimport { videoClick } from \"../../actions/videoClickActions\";\r\n\r\nimport Card from \"../Card/index\";\r\nimport Header from \"../Header\";\r\n\r\nimport { ArrowNavigation } from \"../../helperFunctions/ArrowNavigation\";\r\n\r\nclass Carousell extends React.Component {\r\n  /*\r\n    On load\r\n    1) GET request to movie data\r\n    2) Add document.onkeydown to handle left/right/enter for navigating carousell cards, and up/down for menu navigation\r\n    3) Listen to scroll events to make scrolling horizontal.\r\n*/\r\n  componentDidMount() {\r\n    let { loadCarousell } = this.props;\r\n    loadCarousell();\r\n\r\n    document.onkeydown = async e => {\r\n      const toHandleKeydown = ArrowNavigation(e);\r\n      if (toHandleKeydown === false) return;\r\n      let { keyDown, entries, selectedPosition } = this.props;\r\n      await keyDown(e, entries[selectedPosition]);\r\n      if (e.key === \"Enter\" && toHandleKeydown) {\r\n        this.props.history.push(\"/video\");\r\n      }\r\n    };\r\n\r\n    const carousell = document.getElementById(\"carousell-scroll\");\r\n    if (carousell) {\r\n      carousell.addEventListener(\"wheel\", function(e) {\r\n        if (e.deltaY > 0.1) carousell.scrollLeft += 100;\r\n        else if (e.deltaY < -0.1) {\r\n          carousell.scrollLeft -= 100;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { entries, selectedPosition, videoClick } = this.props;\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <div data-test=\"Carousell\">\r\n          <p className=\"has-text-centered\">Video List</p>\r\n          <div className=\"carousell-wrapper\">\r\n            <div className=\"carousell\" id=\"carousell-scroll\">\r\n              <div className=\"columns is-mobile\">\r\n                {entries.map(function(movie, i) {\r\n                  //Loop out individual movie into cards\r\n                  return (\r\n                    <Link\r\n                      to=\"/video\"\r\n                      key={`${i}${movie.title}`}\r\n                      onClick={() => videoClick(movie, i)}\r\n                    >\r\n                      <Card\r\n                        movie={movie}\r\n                        position={i}\r\n                        selectedPosition={selectedPosition}\r\n                      />\r\n                    </Link>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  entries: state.carousell.entries,\r\n  loaded: state.carousell.loaded,\r\n  totalCount: state.carousell.totalCount,\r\n  lastInteractPosition: state.position.lastInteractPosition,\r\n\r\n  selectedPosition: state.position.position\r\n});\r\n\r\nexport default connect(mapStateToProps, { loadCarousell, keyDown, videoClick })(\r\n  Carousell\r\n);\r\n","import {\r\n  CAROUSELL_LOADED,\r\n  START_CAROUSELL_LOAD,\r\n  RESET_POSITION\r\n} from \"./types\";\r\n\r\nimport { apiUrl } from \"../config\";\r\n\r\n//Load the homepage carousell\r\nexport const loadCarousell = () => dispatch => {\r\n  dispatch({\r\n    type: START_CAROUSELL_LOAD\r\n  });\r\n\r\n  fetch(`${apiUrl}/moviedata`)\r\n    .then(data => {\r\n      if (data.status === 200) {\r\n        data.json().then(data => {\r\n          dispatch({\r\n            type: CAROUSELL_LOADED,\r\n            entries: data.entries,\r\n            totalCount: data.totalCount\r\n          });\r\n\r\n          dispatch({\r\n            type: RESET_POSITION\r\n          });\r\n        });\r\n      } else {\r\n        console.log(\"ERROR\");\r\n      }\r\n    })\r\n    .catch(e => console.log(e));\r\n};\r\n","import { LEFT_ARROW, RIGHT_ARROW, ENTER_KEY } from \"./types\";\r\n\r\n//Handles keyboard navigation for carousell\r\nexport const keyDown = (e, movie) => dispatch => {\r\n  switch (e.key) {\r\n    case \"ArrowLeft\":\r\n      dispatch({\r\n        type: LEFT_ARROW\r\n      });\r\n      break;\r\n\r\n    case \"ArrowRight\":\r\n      dispatch({\r\n        type: RIGHT_ARROW\r\n      });\r\n      break;\r\n\r\n    case \"Enter\":\r\n      dispatch({\r\n        type: ENTER_KEY,\r\n        movie: movie\r\n      });\r\n\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./App.css\";\r\nimport \"bulma\";\r\nimport \"./index.css\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport Video from \"./components/Video\";\r\nimport FullWatchHistory from \"./components/FullWatchHistory\";\r\nimport Carousell from \"./components/Carousell\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Carousell} />\r\n        <Route path=\"/history\" exact component={FullWatchHistory} />\r\n        <Route path=\"/video\" exact component={Video} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  </Provider>,\r\n\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}